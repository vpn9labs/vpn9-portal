<!-- VPN9 Teaser/Pre-Launch Landing Page -->
<% content_for :title, "VPN9 - True Privacy. Zero Logs. No Compromises." %>
<% content_for :meta_tags do %>
  <meta name="description" content="Privacy is a fundamental human right. VPN9 protects your life, identity, and data. Free from surveillance, censorship, and compromise.">
  <meta name="keywords" content="VPN coming soon, privacy VPN launch, anonymous VPN, Bitcoin VPN, Monero VPN, zero logs VPN">
  <meta name="author" content="VPN9">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="<%= request.original_url %>">
  <meta property="og:title" content="VPN9 - Launching Soon">
  <meta property="og:description" content="Be the first to experience true privacy. Sign up for early access to VPN9.">
  <meta property="og:site_name" content="VPN9">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="<%= request.original_url %>">
  <meta name="twitter:title" content="VPN9 - Launching Soon">
  <meta name="twitter:description" content="Be the first to experience true privacy. Sign up for early access.">
<% end %>

<% 
  # Always use VPN9 as the brand name for consistency
  brand_name = "VPN9"
  
  # Domain for metadata/technical purposes
  current_host = request.host_with_port.sub(/:\d+$/, '')
  display_domain = Rails.env.production? ? "VPN9.com" : current_host
%>

<!-- Schema.org Structured Data -->
<% content_for :head do %>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "<%= brand_name %>",
    "url": "https://<%= display_domain %>",
    "description": "Revolutionary privacy-focused VPN service launching soon. Be the first to experience true anonymity.",
    "sameAs": ["https://github.com/vpn9labs"]
  }
  </script>
<% end %>

<!-- Hero Section - Matching live landing page style -->
<main role="main">
<section class="relative isolate overflow-hidden bg-gray-900 min-h-screen flex items-center" aria-label="Coming Soon">
  <!-- Background pattern matching live site -->
  <svg class="absolute inset-0 -z-10 h-full w-full stroke-white/10 [mask-image:radial-gradient(100%_100%_at_top_right,white,transparent)]" aria-hidden="true">
    <defs>
      <pattern id="hero-pattern" width="200" height="200" x="50%" y="-1" patternUnits="userSpaceOnUse">
        <path d="M.5 200V.5H200" fill="none" />
      </pattern>
    </defs>
    <svg x="50%" y="-1" class="overflow-visible fill-gray-800/20">
      <path d="M-200 0h201v201h-201Z M600 0h201v201h-201Z M-400 600h201v201h-201Z M200 800h201v201h-201Z" stroke-width="0" />
    </svg>
    <rect width="100%" height="100%" stroke-width="0" fill="url(#hero-pattern)" />
  </svg>
  
  <!-- Gradient overlay matching live site -->
  <div class="absolute left-[calc(50%-4rem)] top-10 -z-10 transform-gpu blur-3xl sm:left-[calc(50%-18rem)] lg:left-48 lg:top-[calc(50%-30rem)] xl:left-[calc(50%-24rem)]" aria-hidden="true">
    <div class="aspect-[1108/632] w-[69.25rem] bg-gradient-to-r from-[#80caff] to-[#4f46e5] opacity-20" style="clip-path: polygon(73.6% 51.7%, 91.7% 11.8%, 100% 46.4%, 97.4% 82.2%, 92.5% 84.9%, 75.7% 64%, 55.3% 47.5%, 46.5% 49.4%, 45% 62.9%, 50.3% 87.2%, 21.3% 64.1%, 0.1% 100%, 5.4% 51.1%, 21.4% 63.9%, 58.9% 0.2%, 73.6% 51.7%)"></div>
  </div>
  
  <!-- Content Container -->
  <div class="mx-auto max-w-7xl px-6 py-24 sm:py-32 lg:px-8">
    <div class="mx-auto max-w-2xl text-center">
      <!-- Coming Soon Badge -->
      <div class="mb-8">
        <span class="inline-flex items-center rounded-full bg-indigo-400/10 px-3 py-1 text-sm font-medium text-indigo-400 ring-1 ring-inset ring-indigo-400/30">
          <span class="mr-2 inline-block h-2 w-2 rounded-full bg-indigo-400 animate-pulse"></span>
          Launching Soon
        </span>
      </div>
      
      <!-- Main Headline -->
      <h1 class="text-4xl font-bold tracking-tight text-white sm:text-6xl">
        VPN9<br>
        <span class="text-indigo-400">True Privacy. Zero Logs. No Compromises.</span>
      </h1>
      
      <p class="mt-6 text-lg leading-8 text-gray-300">
        Privacy is a fundamental human right. It protects your life, identity, and data.<br>
        Free from surveillance and censorship. Free from business models that sell your behavior.<br>
        Free from compromise.
      </p>
      
      <!-- Countdown Timer -->
      <div class="mt-10 flex items-center justify-center">
        <div class="rounded-lg bg-white/5 px-6 py-3 backdrop-blur-sm ring-1 ring-white/10">
          <p class="text-sm font-medium text-gray-400">Expected Launch</p>
          <p class="mt-1 text-2xl font-bold text-white" id="countdown">Q4 2025</p>
        </div>
      </div>
      
      <!-- Email Signup Form -->
      <div class="mt-10" id="signup-section">
        <h2 class="text-xl font-semibold text-white mb-4">
          Join the Waitlist
        </h2>
        <p class="text-gray-400 mb-6">
          Your IP address is the clearest marker of you online. Hide it with a VPN you can trust.
        </p>
        
        <%= form_with url: launch_notifications_path, local: false, html: { id: 'notification-form', class: 'mx-auto max-w-md' } do |f| %>
          <div class="flex gap-x-4">
            <%= f.email_field :email, 
                placeholder: "Enter your email", 
                required: true,
                class: "min-w-0 flex-auto rounded-md border-0 bg-white/5 px-3.5 py-2 text-white shadow-sm ring-1 ring-inset ring-white/10 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6" %>
            <%= f.submit "Notify Me", 
                class: "flex-none rounded-md bg-indigo-500 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500" %>
          </div>
          <p class="mt-4 text-xs text-gray-500">
            We respect your privacy. No spam, ever. Unsubscribe anytime.
          </p>
        <% end %>
        
        <!-- Success Message (Hidden by default) -->
        <div id="success-message" class="hidden mt-6 rounded-md bg-green-900/50 p-4 ring-1 ring-green-600/50">
          <div class="flex">
            <div class="flex-shrink-0">
              <svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm font-medium text-green-400">
                You're on the list! We'll notify you as soon as we launch.
              </p>
            </div>
          </div>
        </div>
        
        <!-- Error Message (Hidden by default) -->
        <div id="error-message" class="hidden mt-6 rounded-md bg-red-900/50 p-4 ring-1 ring-red-600/50">
          <div class="flex">
            <div class="flex-shrink-0">
              <svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
              </svg>
            </div>
            <div class="ml-3">
              <p class="text-sm font-medium text-red-400" id="error-text">
                Something went wrong. Please try again.
              </p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Social Proof -->
      <div class="mt-10 flex items-center justify-center gap-x-6">
        <div class="flex -space-x-2">
          <div class="h-10 w-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 ring-2 ring-gray-900"></div>
          <div class="h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 ring-2 ring-gray-900"></div>
          <div class="h-10 w-10 rounded-full bg-gradient-to-br from-pink-500 to-red-600 ring-2 ring-gray-900"></div>
          <div class="h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 ring-2 ring-gray-900"></div>
        </div>
        <p class="text-sm text-gray-400">
          <span class="font-semibold text-white" id="signup-count">1,247</span> people waiting for launch
        </p>
      </div>
    </div>
  </div>
</section>

<!-- DNS Leak Test Section -->
<section class="bg-gray-50 py-24 sm:py-32" aria-label="DNS Leak Test">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl text-center">
      <h2 class="text-base font-semibold leading-7 text-indigo-600">Check Your Privacy</h2>
      <p class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
        DNS Leak Test
      </p>
      <p class="mt-6 text-lg leading-8 text-gray-600">
        Find out if your VPN is actually protecting your DNS queries from being exposed to your ISP.
      </p>
    </div>
    
    <div class="mx-auto mt-16 max-w-2xl">
      <div class="rounded-lg bg-white p-8 shadow-sm ring-1 ring-gray-200">
        <div id="dns-test-container">
          <!-- Initial State -->
          <div id="dns-test-initial" class="text-center">
            <div class="mb-6 flex h-16 w-16 items-center justify-center rounded-lg bg-indigo-600 mx-auto">
              <svg class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Test Your DNS Security</h3>
            <p class="text-gray-600 mb-6">
              Click below to check if your DNS queries are leaking to your ISP. This test works whether you're using a VPN or not.
            </p>
            <button id="start-dns-test" class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
              Start DNS Leak Test
            </button>
          </div>
          
          <!-- Testing State -->
          <div id="dns-test-running" class="text-center hidden">
            <div class="mb-6 flex h-16 w-16 items-center justify-center rounded-lg bg-yellow-500 mx-auto">
              <svg class="h-8 w-8 text-white animate-spin" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Testing DNS Configuration...</h3>
            <p class="text-gray-600 mb-4">
              Please wait while we analyze your DNS queries...
            </p>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div id="progress-bar" class="bg-indigo-600 h-2 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
            </div>
          </div>
          
          <!-- Results State -->
          <div id="dns-test-results" class="hidden">
            <div id="dns-results-content">
              <!-- Results will be inserted here -->
            </div>
            <div class="mt-6 text-center">
              <button id="restart-dns-test" class="rounded-md bg-gray-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-500">
                Run Test Again
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Information about DNS leaks -->
      <div class="mt-8 rounded-lg bg-blue-50 p-6">
        <h4 class="text-lg font-semibold text-blue-900 mb-3">What is a DNS leak?</h4>
        <p class="text-blue-800 text-sm leading-6">
          A DNS leak occurs when your device sends DNS queries to your ISP's DNS servers instead of your VPN's secure DNS servers. 
          This can reveal which websites you visit, even when your traffic is encrypted through a VPN tunnel. 
          A proper VPN should route all DNS queries through its own secure servers to maintain your privacy.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Features Preview Section -->
<section class="bg-white py-24 sm:py-32" aria-label="Features Preview">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl text-center">
      <h2 class="text-base font-semibold leading-7 text-indigo-600">Coming Features</h2>
      <p class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
        What We're Building
      </p>
      <p class="mt-6 text-lg leading-8 text-gray-600">
        Step 1 to reclaim privacy: hide your IP with a VPN you can trust.
      </p>
    </div>
    
    <div class="mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none">
      <dl class="grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-3">
        <!-- Feature 1 -->
        <div class="flex flex-col">
          <dt class="text-base font-semibold leading-7 text-gray-900">
            <div class="mb-6 flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-600">
              <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            Zero Connection Logs
          </dt>
          <dd class="mt-1 flex flex-auto flex-col text-base leading-7 text-gray-600">
            <p class="flex-auto">No timestamps, no IP addresses, no browsing activity. We're building a system that makes logging technically impossible.</p>
          </dd>
        </div>
        
        <!-- Feature 2 -->
        <div class="flex flex-col">
          <dt class="text-base font-semibold leading-7 text-gray-900">
            <div class="mb-6 flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-600">
              <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z" />
              </svg>
            </div>
            Anonymous Accounts
          </dt>
          <dd class="mt-1 flex flex-auto flex-col text-base leading-7 text-gray-600">
            <p class="flex-auto">No email, no phone, no personal information. Sign up with just a passphrase for complete anonymity.</p>
          </dd>
        </div>
        
        <!-- Feature 3 -->
        <div class="flex flex-col">
          <dt class="text-base font-semibold leading-7 text-gray-900">
            <div class="mb-6 flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-600">
              <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            Cryptocurrency Payments
          </dt>
          <dd class="mt-1 flex flex-auto flex-col text-base leading-7 text-gray-600">
            <p class="flex-auto">Pay with Bitcoin, Monero, or other cryptocurrencies. No credit cards, no financial trail.</p>
          </dd>
        </div>
      </dl>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="bg-gray-900" aria-label="Final CTA">
  <div class="px-6 py-24 sm:px-6 sm:py-32 lg:px-8">
    <div class="mx-auto max-w-2xl text-center">
      <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">
        This is why you should use VPN9
      </h2>
      <p class="mx-auto mt-6 max-w-xl text-lg leading-8 text-gray-300">
        Your IP links your traffic, location, and identity. It lets others assemble a record of your life.<br>
        VPN9 keeps zero logs. No compromises.
      </p>
      <div class="mt-10 flex items-center justify-center gap-x-6">
        <a href="#signup-section" class="rounded-md bg-indigo-500 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-400">
          Get Early Access
        </a>
        <a href="https://github.com/vpn9labs" target="_blank" class="text-sm font-semibold leading-6 text-white hover:text-gray-300">
          View on GitHub <span aria-hidden="true">â†’</span>
        </a>
      </div>
    </div>
  </div>
</section>
</main>

<!-- JavaScript for Form Submission and Dynamic Elements -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Handle form submission
  const form = document.getElementById('notification-form');
  const successMessage = document.getElementById('success-message');
  const errorMessage = document.getElementById('error-message');
  const errorText = document.getElementById('error-text');
  
  if (form) {
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(form);
      
      fetch(form.action, {
        method: 'POST',
        body: formData,
        headers: {
          'X-CSRF-Token': document.querySelector('[name="csrf-token"]').content,
          'Accept': 'application/json'
        }
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          form.style.display = 'none';
          successMessage.classList.remove('hidden');
          
          // Update signup count
          const countElement = document.getElementById('signup-count');
          if (countElement && data.total_signups) {
            countElement.textContent = data.total_signups.toLocaleString();
          }
        } else {
          errorText.textContent = data.error || 'Something went wrong. Please try again.';
          errorMessage.classList.remove('hidden');
          setTimeout(() => {
            errorMessage.classList.add('hidden');
          }, 5000);
        }
      })
      .catch(error => {
        console.error('Error:', error);
        errorText.textContent = 'Network error. Please check your connection and try again.';
        errorMessage.classList.remove('hidden');
        setTimeout(() => {
          errorMessage.classList.add('hidden');
        }, 5000);
      });
    });
  }
  
  // Keep the launch date as Q4 2025 - no countdown needed
  const countdownElement = document.getElementById('countdown');
  
  if (countdownElement) {
    // Always show Q4 2025 - we're not counting down to a specific date
    countdownElement.textContent = 'Q4 2025';
  }
  
  // Simulated signup counter
  const signupCount = document.getElementById('signup-count');
  if (signupCount) {
    // Add small random increments occasionally
    setInterval(() => {
      if (Math.random() > 0.8) { // 20% chance
        const current = parseInt(signupCount.textContent.replace(/,/g, ''));
        const increment = Math.floor(Math.random() * 3) + 1;
        signupCount.textContent = (current + increment).toLocaleString();
      }
    }, 45000); // Every 45 seconds
  }
  
});
</script>